 
    <!DOCTYPE html> 
    <html lang="en"> 
    <head> 
        <meta charset="UTF-8"> 
        <meta name="viewport" content="width=device-width, initial-scale=1.0"> 
        <title>Decision Tree Visualization</title> 
        <style> 
            body { font-family: Arial, sans-serif; text-align: center}
            .tree-container { display: flex; justify-content: center; margin-top: 20px}
            .node { border: 2px solid blue; border-radius: 100%; background-color: lightcyan; color: lightcyan ;display: inline-block;  position: absolute; width: 24px; height: 24px} 
            .square { position: absolute; transform: translate(14px, 14px); z-index: -1}
            .leaf { display: inline-block; font-weight: bolder; position: absolute; line-height: 24px}
            .d_r:after { content: ""; width: 100%; height: 100%; position: absolute; top: 0; left: 0; background: linear-gradient(to top left, transparent calc(50% - 1px), blue, transparent calc(50% + 1px))}
            .d_l:after { content: ""; width: 100%; height: 100%; position: absolute; top: 0; left: 0; background: linear-gradient(to top right, transparent calc(50% - 1px), blue, transparent calc(50% + 1px))}
            .tooltip { position: absolute; z-index: 1; background-color: rgba(0, 0, 0, 0.8); color: white; padding: 8px; border-radius: 5px; white-space: nowrap; visibility: hidden; opacity: 0; transition: opacity 0.3s; font-size: 14px; width: fit-content}
            .t_l { transform: translate(35px, -5px)}
            .t_r { transform: translateX(-100%) translate(-8px, -5px)}
            .leaf_value{ display: inline-block; font-weight: bolder; position: absolute; line-height: 24px; transform: translate(6px, 30px)}
            #legend { display: flex; flex-wrap: wrap; gap: 8px; position: absolute; bottom: 3%; width: 100%; justify-content: center; font-family: sans-serif}
            .legend-item { display: flex; align-items: center; gap: 6px; margin-right: 12px }
            .color-box { width: 16px; height: 16px; border: 1px solid #000; box-sizing: border-box}
            .impurity-line { position: absolute; width: 90%; border-top: 1px dashed #cccccc; z-index: -2; transition: border-color 0.3s, z-index 0s; transform: translateY(12px);}
            .suggested-line { position: absolute; width: 90%; border-top: 1px dashed #e61414; z-index: -2; transition: border-color 0.3s, z-index 0s; transform: translateY(12px);}
            .impurity-line.highlighted {  border-top: 2px dashed #4a90e2; z-index: -1;}
            .suggested-line.highlighted {  border-top: 2px dashed #e61414; z-index: -1;}
            .impurity-label-left {  position: absolute; font-size: 11px; color: #666; background-color: rgba(255, 255, 255, 0.8); padding: 2px 5px; border-radius: 3px; transition: color 0.3s; background-color: 0.3s; z-index: 0s; font-weight: 0.3s; right: 0%; transform: translateY(12px);}
            .impurity-label-right {position: absolute; font-size: 11px; color: #666; background-color: rgba(255, 255, 255, 0.8); padding: 2px 5px; border-radius: 3px; transition: color 0.3s; background-color: 0.3s; z-index: 0s; font-weight: 0.3s; left: 0%; transform: translateY(12px);}
            .suggested-label-left {  position: absolute; font-size: 11px; color: #e61414; background-color: rgba(255, 255, 255, 0.8); padding: 2px 5px; border-radius: 3px; transition: color 0.3s; background-color: 0.3s; z-index: 1; font-weight: 0.3s; right: 0%; transform: translateY(12px);}
            .suggested-label-right { position: absolute; font-size: 11px; color: #e61414; background-color: rgba(255, 255, 255, 0.8); padding: 2px 5px; border-radius: 3px; transition: color 0.3s; background-color: 0.3s; z-index: 1; font-weight: 0.3s; left: 0%; transform: translateY(12px);}
            .impurity-label-left.highlighted { color: #ffffff; background-color: rgba(74, 144, 226, 0.95); font-weight: bold; z-index: 11;}
            .impurity-label-right.highlighted { color: #ffffff; background-color: rgba(74, 144, 226, 0.95); font-weight: bold; z-index: 11;}
            .suggested-label-left.highlighted {color: #ffffff; background-color: #e61414; font-weight: bold; z-index: 11;}
            .suggested-label-right.highlighted { color: #ffffff; background-color: #e61414; font-weight: bold; z-index: 11;}
        </style>
    </head> 
    <body> 
        <h1>LBT_SLA_VP</h1> 
        <div class="tree-container" id="tree"></div> 

        <div id="tooltip" class="tooltip"></div>
        
        <script> 
            const treeData = {
    "isLeaf": 0,
    "suggested": 0,
    "feature": "VENTILAZIONE",
    "distribution": "0=0.0, 1=0.17, 2=0.22, 3=0.29, 4A=0.01, 4B=0.3",
    "distArray": [
        0.004325883201153569,
        0.17231434751261715,
        0.2191780821917808,
        0.29343907714491707,
        0.014419610670511895,
        0.29632299927901945
    ],
    "lift1": "0=12.85, 1=0.67, 2=1.41, 3=0.37, 4A=16.95, 4B=0.56",
    "lift2": "0=12.65, 1=1.41, 2=0.64, 3=0.96, 4A=9.36, 4B=0.49",
    "treshold": "1",
    "position": 1,
    "gpi": 0.2289270224487016,
    "ppi": 0.2159343372990024,
    "impurity": 0.7481282835933005,
    "impurity_decrement": 0.0,
    "tree_partial_impurity_reduction": 0.5522134814129263,
    "labels": 1387,
    "labArray": [
        "0",
        "1",
        "2",
        "3",
        "4A",
        "4B"
    ],
    "children": [
        {
            "isLeaf": 0,
            "suggested": 0,
            "feature": "FVC",
            "distribution": "1=0.04, 2=0.08, 3=0.12, 4A=0.01, 4B=0.75",
            "distArray": [
                0.04339250493096647,
                0.07692307692307693,
                0.1203155818540434,
                0.013806706114398421,
                0.7455621301775148
            ],
            "lift1": "1=3.48, 2=3.12, 3=1.78, 4A=18.14, 4B=0.19",
            "lift2": "1=0.66, 2=0.73, 3=1.03, 4A=27.51, 4B=0.55",
            "treshold": ">80",
            "position": 2,
            "gpi": 0.105436431971384,
            "ppi": 0.0925721460552692,
            "impurity": 0.4216705764270625,
            "impurity_decrement": 0.7939708257225077,
            "tree_partial_impurity_reduction": 0.8644966113730574,
            "labels": 507,
            "labArray": [
                "1",
                "2",
                "3",
                "4A",
                "4B"
            ],
            "children": [
                {
                    "isLeaf": 0,
                    "suggested": 0,
                    "feature": "Tracheostomia",
                    "distribution": "1=0.16, 2=0.18, 3=0.24, 4B=0.42",
                    "distArray": [
                        0.16037735849056603,
                        0.1792452830188679,
                        0.2358490566037736,
                        0.42452830188679247
                    ],
                    "lift1": "1=0.37, 2=0.56, 3=0.8, 4B=1.53",
                    "lift2": "1=0.39, 2=2.0, 3=1.64, 4B=0.45",
                    "treshold": "0",
                    "position": 4,
                    "gpi": 0.162632718091481,
                    "ppi": 0.16263271809148105,
                    "impurity": 0.7063011747953007,
                    "impurity_decrement": 0.9278488497840126,
                    "tree_partial_impurity_reduction": 0.9339283753906611,
                    "labels": 106,
                    "labArray": [
                        "1",
                        "2",
                        "3",
                        "4B"
                    ],
                    "children": [
                        {
                            "isLeaf": 0,
                            "suggested": 0,
                            "feature": "PUMNS_AAII",
                            "distribution": "1=0.19, 2=0.09, 3=0.1, 4B=0.62",
                            "distArray": [
                                0.19117647058823528,
                                0.08823529411764706,
                                0.10294117647058823,
                                0.6176470588235294
                            ],
                            "lift1": "1=2.13, 2=2.01, 3=1.84, 4B=0.36",
                            "lift2": "1=0.07, 2=0.16, 3=1.15, 4B=1.38",
                            "treshold": "1",
                            "position": 8,
                            "gpi": 0.15395028566555827,
                            "ppi": 0.1406982167771664,
                            "impurity": 0.5635813148788927,
                            "impurity_decrement": 0.9630671379657416,
                            "tree_partial_impurity_reduction": 0.9428804093311264,
                            "labels": 68,
                            "labArray": [
                                "1",
                                "2",
                                "3",
                                "4B"
                            ],
                            "children": [
                                {
                                    "isLeaf": 0,
                                    "suggested": 0,
                                    "feature": "PUMNS_Bulbare",
                                    "distribution": "1=0.34, 2=0.19, 3=0.06, 4B=0.41",
                                    "distArray": [
                                        0.34375,
                                        0.1875,
                                        0.0625,
                                        0.40625
                                    ],
                                    "lift1": "1=0.11, 2=0.24, 3=3.36, 4B=1.74",
                                    "lift2": "1=1.55, 2=1.19, 3=1.6, 4B=0.36",
                                    "treshold": "1, 2, 3",
                                    "position": 16,
                                    "gpi": 0.20173921836291017,
                                    "ppi": 0.19251936020688182,
                                    "impurity": 0.677734375,
                                    "impurity_decrement": 0.9790994864600835,
                                    "tree_partial_impurity_reduction": 0.9472424761642714,
                                    "labels": 32,
                                    "labArray": [
                                        "1",
                                        "2",
                                        "3",
                                        "4B"
                                    ],
                                    "children": [
                                        {
                                            "isLeaf": 1,
                                            "suggested": 0,
                                            "distribution": "1=0.08, 2=0.08, 3=0.15, 4B=0.69",
                                            "distArray": [
                                                0.07692307692307693,
                                                0.07692307692307693,
                                                0.15384615384615385,
                                                0.6923076923076923
                                            ],
                                            "position": 32,
                                            "value": "4B",
                                            "impurity": 0.48520710059171596,
                                            "labels": 13,
                                            "impurity_decrement": 0.993921198456136,
                                            "tree_partial_impurity_reduction": 0.9475231825995358,
                                            "labArray": [
                                                "1",
                                                "2",
                                                "3",
                                                "4B"
                                            ],
                                            "gcr": "1=0.45, 2=0.35, 3=0.52, 4B=2.34"
                                        },
                                        {
                                            "isLeaf": 1,
                                            "suggested": 0,
                                            "distribution": "1=0.53, 2=0.26, 4B=0.21",
                                            "distArray": [
                                                0.5263157894736842,
                                                0.2631578947368421,
                                                0.21052631578947367
                                            ],
                                            "position": 33,
                                            "value": "1",
                                            "impurity": 0.6094182825484764,
                                            "labels": 19,
                                            "impurity_decrement": 0.9888412243803266,
                                            "tree_partial_impurity_reduction": 0.9474981691548092,
                                            "labArray": [
                                                "1",
                                                "2",
                                                "4B"
                                            ],
                                            "gcr": "1=3.05, 2=1.2, 4B=0.71"
                                        }
                                    ]
                                },
                                {
                                    "isLeaf": 0,
                                    "suggested": 0,
                                    "feature": "PUMNS_Bulbare",
                                    "distribution": "1=0.06, 3=0.14, 4B=0.81",
                                    "distArray": [
                                        0.05555555555555555,
                                        0.1388888888888889,
                                        0.8055555555555556
                                    ],
                                    "lift1": "1=0.81, 3=0.22, 4B=1.15",
                                    "lift2": "1=0.39, 3=6.67, 4B=0.06",
                                    "treshold": "0, 1, 2, 3",
                                    "position": 17,
                                    "gpi": 0.18470824949698217,
                                    "ppi": 0.12054320726176397,
                                    "impurity": 0.3287037037037036,
                                    "impurity_decrement": 0.9885960694614097,
                                    "tree_partial_impurity_reduction": 0.9474981691548092,
                                    "labels": 36,
                                    "labArray": [
                                        "1",
                                        "3",
                                        "4B"
                                    ],
                                    "children": [
                                        {
                                            "isLeaf": 1,
                                            "suggested": 0,
                                            "distribution": "1=0.06, 3=0.11, 4B=0.83",
                                            "distArray": [
                                                0.05714285714285714,
                                                0.11428571428571428,
                                                0.8285714285714286
                                            ],
                                            "position": 34,
                                            "value": "4B",
                                            "impurity": 0.29714285714285693,
                                            "labels": 35,
                                            "impurity_decrement": 0.9899773906252388,
                                            "tree_partial_impurity_reduction": 0.9474981691548092,
                                            "labArray": [
                                                "1",
                                                "3",
                                                "4B"
                                            ],
                                            "gcr": "1=0.33, 3=0.39, 4B=2.8"
                                        },
                                        {
                                            "isLeaf": 1,
                                            "suggested": 0,
                                            "distribution": "3=1.0",
                                            "distArray": [
                                                1.0
                                            ],
                                            "position": 35,
                                            "value": "3",
                                            "impurity": 0.0,
                                            "labels": 1,
                                            "impurity_decrement": 1.0,
                                            "tree_partial_impurity_reduction": 0.9476176778351696,
                                            "labArray": [
                                                "3"
                                            ],
                                            "gcr": "3=3.41"
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "isLeaf": 0,
                            "suggested": 0,
                            "feature": "age_at_onset",
                            "distribution": "1=0.11, 2=0.34, 3=0.47, 4B=0.08",
                            "distArray": [
                                0.10526315789473684,
                                0.34210526315789475,
                                0.47368421052631576,
                                0.07894736842105263
                            ],
                            "lift1": "1=0.12, 2=2.8, 3=0.03, 4B=0.16",
                            "lift2": "1=0.91, 2=0.15, 3=1.53, 4B=1.64",
                            "treshold": "1, 2, 5",
                            "position": 9,
                            "gpi": 0.21265462399371698,
                            "ppi": 0.15703039810089198,
                            "impurity": 0.6412742382271468,
                            "impurity_decrement": 0.9765158494913239,
                            "tree_partial_impurity_reduction": 0.9469701075439158,
                            "labels": 38,
                            "labArray": [
                                "1",
                                "2",
                                "3",
                                "4B"
                            ],
                            "children": [
                                {
                                    "isLeaf": 0,
                                    "suggested": 0,
                                    "feature": "PUMNS_AAII",
                                    "distribution": "1=0.12, 2=0.75, 3=0.12",
                                    "distArray": [
                                        0.125,
                                        0.75,
                                        0.125
                                    ],
                                    "lift1": "1=4.34, 2=0.04, 3=3.44",
                                    "lift2": "1=0.06, 2=1.29, 3=0.17",
                                    "treshold": "0, 1",
                                    "position": 18,
                                    "gpi": 1.0,
                                    "ppi": 0.9642857142857143,
                                    "impurity": 0.40625,
                                    "impurity_decrement": 0.9968679345703871,
                                    "tree_partial_impurity_reduction": 0.9475398582293535,
                                    "labels": 8,
                                    "labArray": [
                                        "1",
                                        "2",
                                        "3"
                                    ],
                                    "children": [
                                        {
                                            "isLeaf": 1,
                                            "suggested": 0,
                                            "distribution": "1=0.5, 3=0.5",
                                            "distArray": [
                                                0.5,
                                                0.5
                                            ],
                                            "position": 36,
                                            "value": "1",
                                            "impurity": 0.5,
                                            "labels": 2,
                                            "impurity_decrement": 0.9990362875601192,
                                            "tree_partial_impurity_reduction": 0.9476176778351696,
                                            "labArray": [
                                                "1",
                                                "3"
                                            ],
                                            "gcr": "1=2.9, 3=1.7"
                                        },
                                        {
                                            "isLeaf": 1,
                                            "suggested": 0,
                                            "distribution": "2=1.0",
                                            "distArray": [
                                                1.0
                                            ],
                                            "position": 37,
                                            "value": "2",
                                            "impurity": 0.0,
                                            "labels": 6,
                                            "impurity_decrement": 1.0,
                                            "tree_partial_impurity_reduction": 0.9476176778351696,
                                            "labArray": [
                                                "2"
                                            ],
                                            "gcr": "2=4.56"
                                        }
                                    ]
                                },
                                {
                                    "isLeaf": 0,
                                    "suggested": 0,
                                    "feature": "PUMNS_AASS",
                                    "distribution": "1=0.1, 2=0.23, 3=0.57, 4B=0.1",
                                    "distArray": [
                                        0.1,
                                        0.23333333333333334,
                                        0.5666666666666667,
                                        0.1
                                    ],
                                    "lift1": "1=0.92, 2=1.76, 3=0.32, 4B=3.19",
                                    "lift2": "1=1.1, 2=0.34, 3=0.59, 4B=4.75",
                                    "treshold": "0, 3",
                                    "position": 19,
                                    "gpi": 0.25551470588235303,
                                    "ppi": 0.21267854769026268,
                                    "impurity": 0.6044444444444446,
                                    "impurity_decrement": 0.98252468109016,
                                    "tree_partial_impurity_reduction": 0.947455090444447,
                                    "labels": 30,
                                    "labArray": [
                                        "1",
                                        "2",
                                        "3",
                                        "4B"
                                    ],
                                    "children": [
                                        {
                                            "isLeaf": 1,
                                            "suggested": 0,
                                            "distribution": "1=0.09, 2=0.36, 3=0.27, 4B=0.27",
                                            "distArray": [
                                                0.09090909090909091,
                                                0.36363636363636365,
                                                0.2727272727272727,
                                                0.2727272727272727
                                            ],
                                            "position": 38,
                                            "value": "2",
                                            "impurity": 0.7107438016528926,
                                            "labels": 11,
                                            "impurity_decrement": 0.9924655209245676,
                                            "tree_partial_impurity_reduction": 0.9474981691548092,
                                            "labArray": [
                                                "1",
                                                "2",
                                                "3",
                                                "4B"
                                            ],
                                            "gcr": "1=0.53, 2=1.66, 3=0.93, 4B=0.92"
                                        },
                                        {
                                            "isLeaf": 1,
                                            "suggested": 0,
                                            "distribution": "1=0.11, 2=0.16, 3=0.74",
                                            "distArray": [
                                                0.10526315789473684,
                                                0.15789473684210525,
                                                0.7368421052631579
                                            ],
                                            "position": 39,
                                            "value": "3",
                                            "impurity": 0.42105263157894746,
                                            "labels": 19,
                                            "impurity_decrement": 0.9922903004809529,
                                            "tree_partial_impurity_reduction": 0.9474981691548092,
                                            "labArray": [
                                                "1",
                                                "2",
                                                "3"
                                            ],
                                            "gcr": "1=0.61, 2=0.72, 3=2.51"
                                        }
                                    ]
                                }
                            ]
                        }
                    ]
                },
                {
                    "isLeaf": 0,
                    "suggested": 0,
                    "feature": "PUMNS_AAII",
                    "distribution": "1=0.01, 2=0.05, 3=0.09, 4A=0.02, 4B=0.83",
                    "distArray": [
                        0.012468827930174564,
                        0.04987531172069826,
                        0.08977556109725686,
                        0.017456359102244388,
                        0.830423940149626
                    ],
                    "lift1": "1=1.81, 2=0.78, 3=7.55, 4A=8.76, 4B=0.13",
                    "lift2": "1=1.92, 2=1.04, 3=1.88, 4A=35.96, 4B=0.15",
                    "treshold": "2, 3, 4, 5",
                    "position": 5,
                    "gpi": 0.03193409918511496,
                    "ppi": 0.02777105678502327,
                    "impurity": 0.29938868539374763,
                    "impurity_decrement": 0.8843016352101114,
                    "tree_partial_impurity_reduction": 0.9213035339828491,
                    "labels": 401,
                    "labArray": [
                        "1",
                        "2",
                        "3",
                        "4A",
                        "4B"
                    ],
                    "children": [
                        {
                            "isLeaf": 0,
                            "suggested": 0,
                            "feature": "Esordio_clinico_c",
                            "distribution": "1=0.01, 2=0.06, 3=0.13, 4A=0.02, 4B=0.78",
                            "distArray": [
                                0.009389671361502348,
                                0.056338028169014086,
                                0.1267605633802817,
                                0.023474178403755867,
                                0.784037558685446
                            ],
                            "lift1": "1=3.71, 2=0.49, 3=1.92, 4A=15.11, 4B=0.43",
                            "lift2": "1=3.67, 2=12.6, 3=0.52, 4A=4.53, 4B=0.11",
                            "treshold": "bulbare, multiplo, spinale",
                            "position": 10,
                            "gpi": 0.03381009578860859,
                            "ppi": 0.02328973777799232,
                            "impurity": 0.3654036897440984,
                            "impurity_decrement": 0.9249933106650459,
                            "tree_partial_impurity_reduction": 0.9308683973191145,
                            "labels": 213,
                            "labArray": [
                                "1",
                                "2",
                                "3",
                                "4A",
                                "4B"
                            ],
                            "children": [
                                {
                                    "isLeaf": 0,
                                    "suggested": 0,
                                    "feature": "Tracheostomia",
                                    "distribution": "1=0.01, 2=0.05, 3=0.13, 4A=0.02, 4B=0.79",
                                    "distArray": [
                                        0.009523809523809525,
                                        0.047619047619047616,
                                        0.12857142857142856,
                                        0.023809523809523808,
                                        0.7904761904761904
                                    ],
                                    "lift1": "1=15.41, 2=2.92, 3=1.35, 4A=14.54, 4B=0.25",
                                    "lift2": "1=14.5, 2=3.1, 3=1.37, 4A=14.12, 4B=0.26",
                                    "treshold": "0",
                                    "position": 20,
                                    "gpi": 0.10268771695337679,
                                    "ppi": 0.10268771695337679,
                                    "impurity": 0.3556916099773243,
                                    "impurity_decrement": 0.9280152698477547,
                                    "tree_partial_impurity_reduction": 0.9400886309724807,
                                    "labels": 210,
                                    "labArray": [
                                        "1",
                                        "2",
                                        "3",
                                        "4A",
                                        "4B"
                                    ],
                                    "children": [
                                        {
                                            "isLeaf": 1,
                                            "suggested": 0,
                                            "distribution": "2=0.04, 3=0.07, 4A=0.01, 4B=0.89",
                                            "distArray": [
                                                0.039473684210526314,
                                                0.06578947368421052,
                                                0.006578947368421052,
                                                0.8881578947368421
                                            ],
                                            "position": 40,
                                            "value": "4B",
                                            "impurity": 0.20524584487534625,
                                            "labels": 152,
                                            "impurity_decrement": 0.9699347079610847,
                                            "tree_partial_impurity_reduction": 0.9456193815286826,
                                            "labArray": [
                                                "2",
                                                "3",
                                                "4A",
                                                "4B"
                                            ],
                                            "gcr": "2=0.18, 3=0.22, 4A=0.46, 4B=3.0"
                                        },
                                        {
                                            "isLeaf": 1,
                                            "suggested": 0,
                                            "distribution": "1=0.03, 2=0.07, 3=0.29, 4A=0.07, 4B=0.53",
                                            "distArray": [
                                                0.034482758620689655,
                                                0.06896551724137931,
                                                0.29310344827586204,
                                                0.06896551724137931,
                                                0.5344827586206896
                                            ],
                                            "position": 41,
                                            "value": "4B",
                                            "impurity": 0.617717003567182,
                                            "labels": 58,
                                            "impurity_decrement": 0.9654725094815092,
                                            "tree_partial_impurity_reduction": 0.9446549742708926,
                                            "labArray": [
                                                "1",
                                                "2",
                                                "3",
                                                "4A",
                                                "4B"
                                            ],
                                            "gcr": "1=0.2, 2=0.31, 3=1.0, 4A=4.78, 4B=1.8"
                                        }
                                    ]
                                },
                                {
                                    "isLeaf": 0,
                                    "suggested": 0,
                                    "feature": "rate_of_progression",
                                    "distribution": "2=0.67, 4B=0.33",
                                    "distArray": [
                                        0.6666666666666666,
                                        0.3333333333333333
                                    ],
                                    "lift1": "2=0.09, 4B=2.82",
                                    "lift2": "2=1.41, 4B=0.17",
                                    "treshold": "1",
                                    "position": 21,
                                    "gpi": 1.0,
                                    "ppi": 1.0,
                                    "impurity": 0.4444444444444445,
                                    "impurity_decrement": 0.9987150500801588,
                                    "tree_partial_impurity_reduction": 0.9476176778351696,
                                    "labels": 3,
                                    "labArray": [
                                        "2",
                                        "4B"
                                    ],
                                    "children": [
                                        {
                                            "isLeaf": 1,
                                            "suggested": 0,
                                            "distribution": "4B=1.0",
                                            "distArray": [
                                                1.0
                                            ],
                                            "position": 42,
                                            "value": "4B",
                                            "impurity": 0.0,
                                            "labels": 1,
                                            "impurity_decrement": 1.0,
                                            "tree_partial_impurity_reduction": 0.9476176778351696,
                                            "labArray": [
                                                "4B"
                                            ],
                                            "gcr": "4B=3.37"
                                        },
                                        {
                                            "isLeaf": 1,
                                            "suggested": 0,
                                            "distribution": "2=1.0",
                                            "distArray": [
                                                1.0
                                            ],
                                            "position": 43,
                                            "value": "2",
                                            "impurity": 0.0,
                                            "labels": 2,
                                            "impurity_decrement": 1.0,
                                            "tree_partial_impurity_reduction": 0.9476176778351696,
                                            "labArray": [
                                                "2"
                                            ],
                                            "gcr": "2=4.56"
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "isLeaf": 0,
                            "suggested": 0,
                            "feature": "PEG",
                            "distribution": "1=0.02, 2=0.04, 3=0.05, 4A=0.01, 4B=0.88",
                            "distArray": [
                                0.015957446808510637,
                                0.0425531914893617,
                                0.047872340425531915,
                                0.010638297872340425,
                                0.8829787234042553
                            ],
                            "lift1": "1=10.6, 2=2.8, 3=8.06, 4A=13.45, 4B=0.21",
                            "lift2": "1=7.09, 2=4.49, 3=5.16, 4A=30.4, 4B=0.14",
                            "treshold": "0",
                            "position": 11,
                            "gpi": 0.03612924841592829,
                            "ppi": 0.03534101403228459,
                            "impurity": 0.21587822544137614,
                            "impurity_decrement": 0.9608876281048345,
                            "tree_partial_impurity_reduction": 0.9418479099182474,
                            "labels": 188,
                            "labArray": [
                                "1",
                                "2",
                                "3",
                                "4A",
                                "4B"
                            ],
                            "children": [
                                {
                                    "isLeaf": 0,
                                    "suggested": 0,
                                    "feature": "Tracheostomia",
                                    "distribution": "1=0.02, 2=0.06, 3=0.07, 4A=0.01, 4B=0.84",
                                    "distArray": [
                                        0.022556390977443608,
                                        0.06015037593984962,
                                        0.06766917293233082,
                                        0.007518796992481203,
                                        0.8421052631578947
                                    ],
                                    "lift1": "1=7.69, 2=2.34, 3=2.22, 4A=45.29, 4B=0.23",
                                    "lift2": "1=4.24, 2=2.52, 3=4.52, 4A=34.23, 4B=0.23",
                                    "treshold": "0",
                                    "position": 22,
                                    "gpi": 0.03496999454446295,
                                    "ppi": 0.03496999454446277,
                                    "impurity": 0.28209621798858053,
                                    "impurity_decrement": 0.9638426686089805,
                                    "tree_partial_impurity_reduction": 0.9446549742708926,
                                    "labels": 133,
                                    "labArray": [
                                        "1",
                                        "2",
                                        "3",
                                        "4A",
                                        "4B"
                                    ],
                                    "children": [
                                        {
                                            "isLeaf": 1,
                                            "suggested": 0,
                                            "distribution": "1=0.02, 2=0.03, 3=0.04, 4A=0.01, 4B=0.89",
                                            "distArray": [
                                                0.02127659574468085,
                                                0.031914893617021274,
                                                0.0425531914893617,
                                                0.010638297872340425,
                                                0.8936170212765957
                                            ],
                                            "position": 44,
                                            "value": "4B",
                                            "impurity": 0.19805341783612496,
                                            "labels": 94,
                                            "impurity_decrement": 0.9820585450022177,
                                            "tree_partial_impurity_reduction": 0.9472424761642714,
                                            "labArray": [
                                                "1",
                                                "2",
                                                "3",
                                                "4A",
                                                "4B"
                                            ],
                                            "gcr": "1=0.12, 2=0.15, 3=0.15, 4A=0.74, 4B=3.02"
                                        },
                                        {
                                            "isLeaf": 1,
                                            "suggested": 0,
                                            "distribution": "1=0.03, 2=0.13, 3=0.13, 4B=0.72",
                                            "distArray": [
                                                0.02564102564102564,
                                                0.1282051282051282,
                                                0.1282051282051282,
                                                0.717948717948718
                                            ],
                                            "position": 45,
                                            "value": "4B",
                                            "impurity": 0.4510190664036817,
                                            "labels": 39,
                                            "impurity_decrement": 0.9830485452882491,
                                            "tree_partial_impurity_reduction": 0.947455090444447,
                                            "labArray": [
                                                "1",
                                                "2",
                                                "3",
                                                "4B"
                                            ],
                                            "gcr": "1=0.15, 2=0.58, 3=0.44, 4B=2.42"
                                        }
                                    ]
                                },
                                {
                                    "isLeaf": 0,
                                    "suggested": 0,
                                    "feature": "PUMNS_Bulbare",
                                    "distribution": "4A=0.02, 4B=0.98",
                                    "distArray": [
                                        0.01818181818181818,
                                        0.9818181818181818
                                    ],
                                    "lift1": "4A=1.56, 4B=0.99",
                                    "lift2": "4A=51.79, 4B=0.06",
                                    "treshold": "0, 1",
                                    "position": 23,
                                    "gpi": 1.0,
                                    "ppi": 1.0,
                                    "impurity": 0.03570247933884296,
                                    "impurity_decrement": 0.9981076192089612,
                                    "tree_partial_impurity_reduction": 0.9476148985635333,
                                    "labels": 55,
                                    "labArray": [
                                        "4A",
                                        "4B"
                                    ],
                                    "children": [
                                        {
                                            "isLeaf": 1,
                                            "suggested": 0,
                                            "distribution": "4B=1.0",
                                            "distArray": [
                                                1.0
                                            ],
                                            "position": 46,
                                            "value": "4B",
                                            "impurity": 0.0,
                                            "labels": 54,
                                            "impurity_decrement": 1.0,
                                            "tree_partial_impurity_reduction": 0.9476176778351696,
                                            "labArray": [
                                                "4B"
                                            ],
                                            "gcr": "4B=3.37"
                                        },
                                        {
                                            "isLeaf": 1,
                                            "suggested": 0,
                                            "distribution": "4A=1.0",
                                            "distArray": [
                                                1.0
                                            ],
                                            "position": 47,
                                            "value": "4A",
                                            "impurity": 0.0,
                                            "labels": 1,
                                            "impurity_decrement": 1.0,
                                            "tree_partial_impurity_reduction": 0.9476176778351696,
                                            "labArray": [
                                                "4A"
                                            ],
                                            "gcr": "4A=69.35"
                                        }
                                    ]
                                }
                            ]
                        }
                    ]
                }
            ]
        },
        {
            "isLeaf": 0,
            "suggested": 0,
            "feature": "PUMNS_AASS",
            "distribution": "0=0.01, 1=0.25, 2=0.3, 3=0.39, 4A=0.01, 4B=0.04",
            "distArray": [
                0.006818181818181818,
                0.24659090909090908,
                0.30113636363636365,
                0.3931818181818182,
                0.014772727272727272,
                0.0375
            ],
            "lift1": "0=13.88, 1=0.89, 2=0.49, 3=0.29, 4A=11.23, 4B=6.88",
            "lift2": "0=13.97, 1=0.78, 2=0.5, 3=0.35, 4A=21.23, 4B=3.0",
            "treshold": "0, 1, 3",
            "position": 3,
            "gpi": 0.08833537860699957,
            "ppi": 0.05590603321124167,
            "impurity": 0.692246900826446,
            "impurity_decrement": 0.4129282841800198,
            "tree_partial_impurity_reduction": 0.7386386849598325,
            "labels": 880,
            "labArray": [
                "0",
                "1",
                "2",
                "3",
                "4A",
                "4B"
            ],
            "children": [
                {
                    "isLeaf": 0,
                    "suggested": 1,
                    "feature": "VENTILAZIONE",
                    "distribution": "0=0.01, 1=0.24, 2=0.34, 3=0.35, 4A=0.02, 4B=0.04",
                    "distArray": [
                        0.010660980810234541,
                        0.24307036247334754,
                        0.34328358208955223,
                        0.34541577825159914,
                        0.017057569296375266,
                        0.04051172707889126
                    ],
                    "lift1": "0=3.84, 1=1.52, 2=0.4, 3=0.57, 4A=5.09, 4B=4.16",
                    "lift2": "0=3.94, 1=0.23, 2=0.53, 3=0.81, 4A=8.33, 4B=7.35",
                    "treshold": "0, 2",
                    "position": 6,
                    "gpi": 0.04145263946673311,
                    "ppi": 0.037844198677148444,
                    "impurity": 0.7017153040766319,
                    "impurity_decrement": 0.6828379209048744,
                    "tree_partial_impurity_reduction": 0.7448920461414676,
                    "labels": 469,
                    "labArray": [
                        "0",
                        "1",
                        "2",
                        "3",
                        "4A",
                        "4B"
                    ],
                    "children": [
                        {
                            "isLeaf": 0,
                            "suggested": 0,
                            "feature": "PUMNS_AASS",
                            "distribution": "0=0.01, 1=0.25, 2=0.35, 3=0.35, 4A=0.02, 4B=0.02",
                            "distArray": [
                                0.010893246187363835,
                                0.24836601307189543,
                                0.35076252723311546,
                                0.35294117647058826,
                                0.017429193899782137,
                                0.0196078431372549
                            ],
                            "lift1": "0=6.65, 1=0.42, 2=0.68, 3=0.7, 4A=10.95, 4B=7.53",
                            "lift2": "0=4.78, 1=1.63, 2=0.45, 3=0.45, 4A=5.82, 4B=6.27",
                            "treshold": "3",
                            "position": 12,
                            "gpi": 0.04383082202064981,
                            "ppi": 0.04300152930585553,
                            "impurity": 0.6899055918663762,
                            "impurity_decrement": 0.6948243940377212,
                            "tree_partial_impurity_reduction": 0.7944784210401981,
                            "labels": 459,
                            "labArray": [
                                "0",
                                "1",
                                "2",
                                "3",
                                "4A",
                                "4B"
                            ],
                            "children": [
                                {
                                    "isLeaf": 0,
                                    "suggested": 0,
                                    "feature": "disease_duration",
                                    "distribution": "0=0.02, 1=0.17, 2=0.26, 3=0.53, 4A=0.02, 4B=0.01",
                                    "distArray": [
                                        0.01694915254237288,
                                        0.1694915254237288,
                                        0.2598870056497175,
                                        0.5310734463276836,
                                        0.01694915254237288,
                                        0.005649717514124294
                                    ],
                                    "lift1": "0=2.96, 1=0.35, 2=0.5, 3=0.54, 4A=19.09, 4B=26.33",
                                    "lift2": "0=4.76, 1=0.39, 2=1.09, 3=0.4, 4A=13.39, 4B=22.94",
                                    "treshold": "1",
                                    "position": 24,
                                    "gpi": 0.034062348914851825,
                                    "ppi": 0.03406234891485175,
                                    "impurity": 0.6210858948577995,
                                    "impurity_decrement": 0.8940569680497052,
                                    "tree_partial_impurity_reduction": 0.929494047494973,
                                    "labels": 177,
                                    "labArray": [
                                        "0",
                                        "1",
                                        "2",
                                        "3",
                                        "4A",
                                        "4B"
                                    ],
                                    "children": [
                                        {
                                            "isLeaf": 1,
                                            "suggested": 0,
                                            "distribution": "2=0.07, 3=0.93",
                                            "distArray": [
                                                0.06666666666666667,
                                                0.9333333333333333
                                            ],
                                            "position": 48,
                                            "value": "3",
                                            "impurity": 0.12444444444444436,
                                            "labels": 15,
                                            "impurity_decrement": 0.9982010701122224,
                                            "tree_partial_impurity_reduction": 0.9476148985635333,
                                            "labArray": [
                                                "2",
                                                "3"
                                            ],
                                            "gcr": "2=0.3, 3=3.18"
                                        },
                                        {
                                            "isLeaf": 1,
                                            "suggested": 0,
                                            "distribution": "0=0.02, 1=0.19, 2=0.28, 3=0.49, 4A=0.02, 4B=0.01",
                                            "distArray": [
                                                0.018518518518518517,
                                                0.18518518518518517,
                                                0.2777777777777778,
                                                0.49382716049382713,
                                                0.018518518518518517,
                                                0.006172839506172839
                                            ],
                                            "position": 49,
                                            "value": "3",
                                            "impurity": 0.6439567139155616,
                                            "labels": 162,
                                            "impurity_decrement": 0.8994645664568711,
                                            "tree_partial_impurity_reduction": 0.929494047494973,
                                            "labArray": [
                                                "0",
                                                "1",
                                                "2",
                                                "3",
                                                "4A",
                                                "4B"
                                            ],
                                            "gcr": "0=4.28, 1=1.07, 2=1.27, 3=1.68, 4A=1.28, 4B=0.02"
                                        }
                                    ]
                                },
                                {
                                    "isLeaf": 0,
                                    "suggested": 0,
                                    "feature": "age_at_onset",
                                    "distribution": "0=0.01, 1=0.3, 2=0.41, 3=0.24, 4A=0.02, 4B=0.03",
                                    "distArray": [
                                        0.0070921985815602835,
                                        0.2978723404255319,
                                        0.4078014184397163,
                                        0.24113475177304963,
                                        0.01773049645390071,
                                        0.028368794326241134
                                    ],
                                    "lift1": "0=12.48, 1=1.07, 2=0.35, 3=0.43, 4A=5.97, 4B=8.53",
                                    "lift2": "0=13.01, 1=1.11, 2=0.2, 3=0.73, 4A=6.23, 4B=7.35",
                                    "treshold": "0, 1, 3",
                                    "position": 25,
                                    "gpi": 0.0904064362601236,
                                    "ppi": 0.06053652054602827,
                                    "impurity": 0.6856546451385745,
                                    "impurity_decrement": 0.8136617571030323,
                                    "tree_partial_impurity_reduction": 0.9046737621471541,
                                    "labels": 282,
                                    "labArray": [
                                        "0",
                                        "1",
                                        "2",
                                        "3",
                                        "4A",
                                        "4B"
                                    ],
                                    "children": [
                                        {
                                            "isLeaf": 1,
                                            "suggested": 0,
                                            "distribution": "0=0.02, 1=0.23, 2=0.5, 3=0.22, 4A=0.02, 4B=0.01",
                                            "distArray": [
                                                0.01652892561983471,
                                                0.23140495867768596,
                                                0.49586776859504134,
                                                0.2231404958677686,
                                                0.024793388429752067,
                                                0.008264462809917356
                                            ],
                                            "position": 50,
                                            "value": "2",
                                            "impurity": 0.6498190014343284,
                                            "labels": 121,
                                            "impurity_decrement": 0.9242251227022587,
                                            "tree_partial_impurity_reduction": 0.9302513990158598,
                                            "labArray": [
                                                "0",
                                                "1",
                                                "2",
                                                "3",
                                                "4A",
                                                "4B"
                                            ],
                                            "gcr": "0=3.82, 1=1.34, 2=2.26, 3=0.76, 4A=1.72, 4B=0.03"
                                        },
                                        {
                                            "isLeaf": 1,
                                            "suggested": 0,
                                            "distribution": "1=0.35, 2=0.34, 3=0.25, 4A=0.01, 4B=0.04",
                                            "distArray": [
                                                0.34782608695652173,
                                                0.3416149068322981,
                                                0.2546583850931677,
                                                0.012422360248447204,
                                                0.043478260869565216
                                            ],
                                            "position": 51,
                                            "value": "1",
                                            "impurity": 0.6954207013618301,
                                            "labels": 161,
                                            "impurity_decrement": 0.8921001214826537,
                                            "tree_partial_impurity_reduction": 0.9277361581850244,
                                            "labArray": [
                                                "1",
                                                "2",
                                                "3",
                                                "4A",
                                                "4B"
                                            ],
                                            "gcr": "1=2.02, 2=1.56, 3=0.87, 4A=0.86, 4B=0.15"
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "isLeaf": 1,
                            "suggested": 0,
                            "distribution": "4B=1.0",
                            "distArray": [
                                1.0
                            ],
                            "position": 13,
                            "value": "4B",
                            "impurity": 0.0,
                            "labels": 10,
                            "impurity_decrement": 1.0,
                            "tree_partial_impurity_reduction": 0.9476176778351696,
                            "labArray": [
                                "4B"
                            ],
                            "gcr": "4B=3.37"
                        }
                    ]
                },
                {
                    "isLeaf": 0,
                    "suggested": 0,
                    "feature": "PUMNS_AASS",
                    "distribution": "0=0.0, 1=0.25, 2=0.25, 3=0.45, 4A=0.01, 4B=0.03",
                    "distArray": [
                        0.0024330900243309003,
                        0.25060827250608275,
                        0.25304136253041365,
                        0.44768856447688565,
                        0.012165450121654502,
                        0.0340632603406326
                    ],
                    "lift1": "0=23.61, 1=0.7, 2=0.58, 3=0.36, 4A=17.82, 4B=7.17",
                    "lift2": "0=27.9, 1=0.37, 2=0.58, 3=0.54, 4A=23.96, 4B=4.6",
                    "treshold": "2, 5",
                    "position": 7,
                    "gpi": 0.13056108472521732,
                    "ppi": 0.12846687479568777,
                    "impurity": 0.6714262880281316,
                    "impurity_decrement": 0.7340575729771054,
                    "tree_partial_impurity_reduction": 0.8281492969137578,
                    "labels": 411,
                    "labArray": [
                        "0",
                        "1",
                        "2",
                        "3",
                        "4A",
                        "4B"
                    ],
                    "children": [
                        {
                            "isLeaf": 0,
                            "suggested": 0,
                            "feature": "FVC",
                            "distribution": "0=0.0, 1=0.34, 2=0.31, 3=0.3, 4A=0.01, 4B=0.03",
                            "distArray": [
                                0.0033783783783783786,
                                0.34121621621621623,
                                0.3108108108108108,
                                0.30067567567567566,
                                0.013513513513513514,
                                0.030405405405405407
                            ],
                            "lift1": "0=12.67, 1=0.21, 2=0.65, 3=0.57, 4A=17.86, 4B=9.0",
                            "lift2": "0=14.81, 1=1.36, 2=0.31, 3=0.4, 4A=12.03, 4B=3.57",
                            "treshold": "40-60, 60-80, <40, ND",
                            "position": 14,
                            "gpi": 0.06941204000024843,
                            "ppi": 0.06288740707426493,
                            "impurity": 0.695443754565376,
                            "impurity_decrement": 0.8016184919364129,
                            "tree_partial_impurity_reduction": 0.8859234060529758,
                            "labels": 296,
                            "labArray": [
                                "0",
                                "1",
                                "2",
                                "3",
                                "4A",
                                "4B"
                            ],
                            "children": [
                                {
                                    "isLeaf": 0,
                                    "suggested": 0,
                                    "feature": "VENTILAZIONE",
                                    "distribution": "1=0.15, 2=0.37, 3=0.39, 4A=0.03, 4B=0.07",
                                    "distArray": [
                                        0.1452991452991453,
                                        0.36752136752136755,
                                        0.39316239316239315,
                                        0.02564102564102564,
                                        0.06837606837606838
                                    ],
                                    "lift1": "1=0.28, 2=0.13, 3=0.76, 4A=7.3, 4B=6.21",
                                    "lift2": "1=0.45, 2=0.15, 3=1.46, 4A=6.73, 4B=1.93",
                                    "treshold": "3",
                                    "position": 28,
                                    "gpi": 0.07698294015320287,
                                    "ppi": 0.07698294015320295,
                                    "impurity": 0.6839067864708889,
                                    "impurity_decrement": 0.9228865310926084,
                                    "tree_partial_impurity_reduction": 0.9302513990158598,
                                    "labels": 117,
                                    "labArray": [
                                        "1",
                                        "2",
                                        "3",
                                        "4A",
                                        "4B"
                                    ],
                                    "children": [
                                        {
                                            "isLeaf": 1,
                                            "suggested": 0,
                                            "distribution": "4B=1.0",
                                            "distArray": [
                                                1.0
                                            ],
                                            "position": 56,
                                            "value": "4B",
                                            "impurity": 0.0,
                                            "labels": 5,
                                            "impurity_decrement": 1.0,
                                            "tree_partial_impurity_reduction": 0.9476176778351696,
                                            "labArray": [
                                                "4B"
                                            ],
                                            "gcr": "4B=3.37"
                                        },
                                        {
                                            "isLeaf": 1,
                                            "suggested": 0,
                                            "distribution": "1=0.15, 2=0.38, 3=0.41, 4A=0.03, 4B=0.03",
                                            "distArray": [
                                                0.15178571428571427,
                                                0.38392857142857145,
                                                0.4107142857142857,
                                                0.026785714285714284,
                                                0.026785714285714284
                                            ],
                                            "position": 57,
                                            "value": "3",
                                            "impurity": 0.6594387755102042,
                                            "labels": 112,
                                            "impurity_decrement": 0.9288229526545121,
                                            "tree_partial_impurity_reduction": 0.9400886309724807,
                                            "labArray": [
                                                "1",
                                                "2",
                                                "3",
                                                "4A",
                                                "4B"
                                            ],
                                            "gcr": "1=0.88, 2=1.75, 3=1.4, 4A=1.86, 4B=0.09"
                                        }
                                    ]
                                },
                                {
                                    "isLeaf": 0,
                                    "suggested": 0,
                                    "feature": "PUMNS_AAII",
                                    "distribution": "0=0.01, 1=0.47, 2=0.27, 3=0.24, 4A=0.01, 4B=0.01",
                                    "distArray": [
                                        0.00558659217877095,
                                        0.4692737430167598,
                                        0.2737430167597765,
                                        0.24022346368715083,
                                        0.00558659217877095,
                                        0.00558659217877095
                                    ],
                                    "lift1": "0=3.61, 1=1.76, 2=0.11, 3=0.12, 4A=8.89, 4B=7.5",
                                    "lift2": "0=6.06, 1=0.13, 2=0.88, 3=1.21, 4A=16.26, 4B=50.59",
                                    "treshold": "3",
                                    "position": 29,
                                    "gpi": 0.056447204682390124,
                                    "ppi": 0.044320680805798235,
                                    "impurity": 0.6470459723479293,
                                    "impurity_decrement": 0.888381640761953,
                                    "tree_partial_impurity_reduction": 0.9277361581850244,
                                    "labels": 179,
                                    "labArray": [
                                        "0",
                                        "1",
                                        "2",
                                        "3",
                                        "4A",
                                        "4B"
                                    ],
                                    "children": [
                                        {
                                            "isLeaf": 1,
                                            "suggested": 0,
                                            "distribution": "0=0.02, 1=0.63, 2=0.24, 3=0.1, 4A=0.02",
                                            "distArray": [
                                                0.01694915254237288,
                                                0.6271186440677966,
                                                0.23728813559322035,
                                                0.1016949152542373,
                                                0.01694915254237288
                                            ],
                                            "position": 58,
                                            "value": "1",
                                            "impurity": 0.5395001436368859,
                                            "labels": 59,
                                            "impurity_decrement": 0.9693245430153171,
                                            "tree_partial_impurity_reduction": 0.9456193815286826,
                                            "labArray": [
                                                "0",
                                                "1",
                                                "2",
                                                "3",
                                                "4A"
                                            ],
                                            "gcr": "0=3.92, 1=3.64, 2=1.08, 3=0.35, 4A=1.18"
                                        },
                                        {
                                            "isLeaf": 1,
                                            "suggested": 0,
                                            "distribution": "1=0.39, 2=0.29, 3=0.31, 4B=0.01",
                                            "distArray": [
                                                0.39166666666666666,
                                                0.2916666666666667,
                                                0.30833333333333335,
                                                0.008333333333333333
                                            ],
                                            "position": 59,
                                            "value": "1",
                                            "impurity": 0.6663888888888889,
                                            "labels": 120,
                                            "impurity_decrement": 0.9229351285575256,
                                            "tree_partial_impurity_reduction": 0.9302513990158598,
                                            "labArray": [
                                                "1",
                                                "2",
                                                "3",
                                                "4B"
                                            ],
                                            "gcr": "1=2.27, 2=1.33, 3=1.05, 4B=0.03"
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "isLeaf": 0,
                            "suggested": 0,
                            "feature": "Spirometria",
                            "distribution": "1=0.02, 2=0.1, 3=0.83, 4A=0.01, 4B=0.04",
                            "distArray": [
                                0.017391304347826087,
                                0.10434782608695652,
                                0.8260869565217391,
                                0.008695652173913044,
                                0.043478260869565216
                            ],
                            "lift1": "1=3.08, 2=0.51, 3=0.35, 4A=22.76, 4B=9.27",
                            "lift2": "1=2.6, 2=0.87, 3=0.51, 4A=13.16, 4B=7.53",
                            "treshold": "0.0",
                            "position": 15,
                            "gpi": 0.11290770828773837,
                            "ppi": 0.11290770828773869,
                            "impurity": 0.30442344045368624,
                            "impurity_decrement": 0.9662616844959964,
                            "tree_partial_impurity_reduction": 0.9456193815286826,
                            "labels": 115,
                            "labArray": [
                                "1",
                                "2",
                                "3",
                                "4A",
                                "4B"
                            ],
                            "children": [
                                {
                                    "isLeaf": 0,
                                    "suggested": 0,
                                    "feature": "PUMNS_Bulbare",
                                    "distribution": "3=0.45, 4A=0.09, 4B=0.45",
                                    "distArray": [
                                        0.45454545454545453,
                                        0.09090909090909091,
                                        0.45454545454545453
                                    ],
                                    "lift1": "3=0.1, 4A=0.83, 4B=1.93",
                                    "lift2": "3=2.04, 4A=0.32, 4B=0.1",
                                    "treshold": "3, 4",
                                    "position": 30,
                                    "gpi": 0.49714285714285705,
                                    "ppi": 0.3918137035378414,
                                    "impurity": 0.578512396694215,
                                    "impurity_decrement": 0.9938672844734853,
                                    "tree_partial_impurity_reduction": 0.9475231825995358,
                                    "labels": 11,
                                    "labArray": [
                                        "3",
                                        "4A",
                                        "4B"
                                    ],
                                    "children": [
                                        {
                                            "isLeaf": 1,
                                            "suggested": 0,
                                            "distribution": "3=0.25, 4A=0.12, 4B=0.62",
                                            "distArray": [
                                                0.25,
                                                0.125,
                                                0.625
                                            ],
                                            "position": 60,
                                            "value": "4B",
                                            "impurity": 0.53125,
                                            "labels": 8,
                                            "impurity_decrement": 0.9959042221305062,
                                            "tree_partial_impurity_reduction": 0.9475231825995358,
                                            "labArray": [
                                                "3",
                                                "4A",
                                                "4B"
                                            ],
                                            "gcr": "3=0.85, 4A=8.67, 4B=2.11"
                                        },
                                        {
                                            "isLeaf": 1,
                                            "suggested": 0,
                                            "distribution": "3=1.0",
                                            "distArray": [
                                                1.0
                                            ],
                                            "position": 61,
                                            "value": "3",
                                            "impurity": 0.0,
                                            "labels": 3,
                                            "impurity_decrement": 1.0,
                                            "tree_partial_impurity_reduction": 0.9476176778351696,
                                            "labArray": [
                                                "3"
                                            ],
                                            "gcr": "3=3.41"
                                        }
                                    ]
                                },
                                {
                                    "isLeaf": 0,
                                    "suggested": 0,
                                    "feature": "age_at_onset",
                                    "distribution": "1=0.02, 2=0.12, 3=0.87",
                                    "distArray": [
                                        0.019230769230769232,
                                        0.11538461538461539,
                                        0.8653846153846154
                                    ],
                                    "lift1": "1=0.91, 2=0.27, 3=1.1",
                                    "lift2": "1=2.8, 2=3.25, 3=0.66",
                                    "treshold": "1, 2, 5",
                                    "position": 31,
                                    "gpi": 0.12585244397921475,
                                    "ppi": 0.12438033243485748,
                                    "impurity": 0.2374260355029585,
                                    "impurity_decrement": 0.9762037159075568,
                                    "tree_partial_impurity_reduction": 0.9467227523682866,
                                    "labels": 104,
                                    "labArray": [
                                        "1",
                                        "2",
                                        "3"
                                    ],
                                    "children": [
                                        {
                                            "isLeaf": 1,
                                            "suggested": 0,
                                            "distribution": "2=0.03, 3=0.97",
                                            "distArray": [
                                                0.031746031746031744,
                                                0.9682539682539683
                                            ],
                                            "position": 62,
                                            "value": "3",
                                            "impurity": 0.06147644242882344,
                                            "labels": 63,
                                            "impurity_decrement": 0.9962675264233185,
                                            "tree_partial_impurity_reduction": 0.9475231825995358,
                                            "labArray": [
                                                "2",
                                                "3"
                                            ],
                                            "gcr": "2=0.14, 3=3.3"
                                        },
                                        {
                                            "isLeaf": 1,
                                            "suggested": 0,
                                            "distribution": "1=0.05, 2=0.24, 3=0.71",
                                            "distArray": [
                                                0.04878048780487805,
                                                0.24390243902439024,
                                                0.7073170731707317
                                            ],
                                            "position": 63,
                                            "value": "3",
                                            "impurity": 0.43783462224866154,
                                            "labels": 41,
                                            "impurity_decrement": 0.9827001864450651,
                                            "tree_partial_impurity_reduction": 0.947455090444447,
                                            "labArray": [
                                                "1",
                                                "2",
                                                "3"
                                            ],
                                            "gcr": "1=0.28, 2=1.11, 3=2.41"
                                        }
                                    ]
                                }
                            ]
                        }
                    ]
                }
            ]
        }
    ]
}; 
            const plotData = {
    "l_c": 0.96875,
    "r_c": 0.96875,
    "depth": 5,
    "max_imp_decrease": 1.0,
    "colors": [
        "#FF6384",
        "#36A2EB",
        "#FFCE56",
        "#4CAF50",
        "#9966FF",
        "#D81B60",
        "#00ACC1",
        "#8D6E63",
        "#FF9800"
    ],
    "labels": [
        "0",
        "1",
        "2",
        "3",
        "4A",
        "4B"
    ]
};
            
            function iter(node, left, d, h, prev_impurity) {
                let impurityLineElement = document.createElement("div");
                impurityLineElement.style.top = (15 + node.impurity_decrement * h) + "%";
                impurityLineElement.setAttribute("data-node-id", node.position); 
                
                let impurityLabelLeft = document.createElement("div");
                impurityLabelLeft.style.top = (15 + node.impurity_decrement * h - 1) + "%";
                impurityLabelLeft.innerText = "V_t(T): " + node.impurity_decrement.toFixed(3);
                impurityLabelLeft.setAttribute("data-node-id", node.position); 

                let impurityLabelRight = document.createElement("div");
                impurityLabelRight.style.top = (15 + node.impurity_decrement * h - 1) + "%";
                impurityLabelRight.innerText = "V(T): " + node.tree_partial_impurity_reduction.toFixed(3);
                impurityLabelRight.setAttribute("data-node-id", node.position); 

                if(node.suggested == 1) {
                    impurityLineElement.classList.add("suggested-line");
                    impurityLabelLeft.classList.add("suggested-label-left");
                    impurityLabelRight.classList.add("suggested-label-right");
                } else {
                    impurityLineElement.classList.add("impurity-line");
                    impurityLabelLeft.classList.add("impurity-label-left");
                    impurityLabelRight.classList.add("impurity-label-right");
                }

                tree.appendChild(impurityLabelLeft);
                tree.appendChild(impurityLabelRight);
                tree.appendChild(impurityLineElement);

                if(node.impurity_decrement != 0.0){
                    if(node.position % 2 === 0){
                        let rbranchElement = document.createElement("div")
                        rbranchElement.classList.add("square")
                        rbranchElement.classList.add("d_r")
                        rbranchElement.style.left = left + "%"
                        rbranchElement.style.top = 15 + prev_impurity*h + "%"
                        rbranchElement.style.height = (node.impurity_decrement-prev_impurity)*h + "%"
                        rbranchElement.style.width = d + "%"

                        tree.appendChild(rbranchElement)
                    } else {
                        let lbranchElement = document.createElement("div")
                        lbranchElement.classList.add("square")
                        lbranchElement.classList.add("d_l")
                        lbranchElement.style.right = (100-left) + "%"
                        lbranchElement.style.top = 15 + prev_impurity*h + "%"
                        lbranchElement.style.height = (node.impurity_decrement-prev_impurity)*h + "%"
                        lbranchElement.style.width = d + "%"

                        tree.appendChild(lbranchElement) 
                    }
                }
                if(node.isLeaf == 1){
                    let nodeElement = document.createElement("div")
                    nodeElement.classList.add("leaf")
                    nodeElement.style.left = left + "%"
                    nodeElement.style.top = 15 + node.impurity_decrement*h + "%"
                    nodeElement.setAttribute("data-node-id", node.position);  //  AGGIUNTO

                    nodeElement.onmouseover = function(event) {
                        showTooltip(event, node, 15 + node.impurity_decrement*h, left); 
                        highlightImpurityLine(node.position);  //  AGGIUNTO
                    };
                    nodeElement.onmouseout = function() {
                        hideTooltip();
                        unhighlightImpurityLine(node.position);  //  AGGIUNTO
                    };
                    
                    let nodeValue = document.createElement("div")
                    nodeValue.classList.add("leaf_value")
                    nodeValue.style.left = left + "%"
                    nodeValue.style.top = 15 + node.impurity_decrement*h + "%"
                    nodeValue.innerText = node.value

                    let canvas = document.createElement("canvas");
                    canvas.width = 36;
                    canvas.height = 36;
                    canvas.style.position = "absolute";
                    canvas.style.top = "-6px";
                    canvas.style.left = "-6px";
                    nodeElement.appendChild(canvas);

                    tree = document.getElementById("tree")
                    tree.appendChild(nodeElement)
                    tree.appendChild(nodeValue)

                    if (node.distribution) {
                        drawPieChart(canvas, node.distArray, node.labArray);
                    }
                    return
                }

                let nodeElement = document.createElement("div")
                nodeElement.classList.add("node")
                nodeElement.style.left = left + "%"
                nodeElement.style.top = 15 + node.impurity_decrement*h + "%"
                
                nodeElement.setAttribute("data-node-id", node.position);  //  AGGIUNTO

                nodeElement.onmouseover = function(event) {
                    showTooltip(event, node, 15 + node.impurity_decrement*h, left); 
                    highlightImpurityLine(node.position);  //  AGGIUNTO
                };
                nodeElement.onmouseout = function() {
                    hideTooltip();
                    unhighlightImpurityLine(node.position);  //  AGGIUNTO
                };

                let canvas = document.createElement("canvas");
                canvas.width = 36;
                canvas.height = 36;
                canvas.style.position = "absolute";
                canvas.style.top = "-6px";
                canvas.style.left = "-6px";
                nodeElement.appendChild(canvas);

                tree = document.getElementById("tree")
                tree.appendChild(nodeElement)

                if (node.distribution) {
                    drawPieChart(canvas, node.distArray, node.labArray);
                }

                iter(node.children[0], left-d/2, d/2, h, node.impurity_decrement)
                iter(node.children[1], left+d/2, d/2, h, node.impurity_decrement)
                return
            }

            // Legend
            const legendContainer = document.createElement('div');
            legendContainer.id = 'legend';

            for (let i = 0; i < plotData.labels.length; i++) {
                const item = document.createElement('div');
                item.className = 'legend-item';

                const colorBox = document.createElement('div');
                colorBox.className = 'color-box';
                colorBox.style.backgroundColor = plotData.colors[i];

                const label = document.createElement('span');
                label.textContent = plotData.labels[i];

                item.appendChild(colorBox);
                item.appendChild(label);
                legendContainer.appendChild(item);
            }
            document.body.appendChild(legendContainer);

            function drawPieChart(canvas, distArray, labArray) {
                let ctx = canvas.getContext("2d");
                let total = distArray.reduce((sum, val) => sum + val, 0);
                let startAngle = 0;

                distArray.forEach((value, index) => {
                    let sliceAngle = (value / total) * 2 * Math.PI;

                    ctx.beginPath();
                    ctx.moveTo(18, 18);
                    ctx.arc(18, 18, 16, startAngle, startAngle + sliceAngle);
                    ctx.closePath();
                    plotData.labels.forEach((valueLab, indexLab) => {
                        if(valueLab == labArray[index]) {
                            ctx.fillStyle = plotData.colors[indexLab % plotData.colors.length];
                        }
                    })
                    ctx.fill();

                    startAngle += sliceAngle;
                });

                ctx.beginPath();
                ctx.arc(18, 18, 17, 0, 2 * Math.PI);
                ctx.strokeStyle = "blue";
                ctx.lineWidth = 2;
                ctx.stroke();
            }

            function highlightImpurityLine(nodeId) {
                // If the line is not suggested
                const lines = document.querySelectorAll('.impurity-line[data-node-id="' + nodeId + '"]');
                lines.forEach(line => {
                    line.classList.add('highlighted');
                });
                
                const labels_l = document.querySelectorAll('.impurity-label-left[data-node-id="' + nodeId + '"]');
                labels_l.forEach(label => {
                    label.classList.add('highlighted');
                });

                const labels_r = document.querySelectorAll('.impurity-label-right[data-node-id="' + nodeId + '"]');
                labels_r.forEach(label => {
                    label.classList.add('highlighted');
                });

                // If the line is suggested
                const s_lines = document.querySelectorAll('.suggested-line[data-node-id="' + nodeId + '"]');
                s_lines.forEach(line => {
                    line.classList.add('highlighted');
                });
                
                const s_labels_l = document.querySelectorAll('.suggested-label-left[data-node-id="' + nodeId + '"]');
                s_labels_l.forEach(label => {
                    label.classList.add('highlighted');
                });

                const s_labels_r = document.querySelectorAll('.suggested-label-right[data-node-id="' + nodeId + '"]');
                s_labels_r.forEach(label => {
                    label.classList.add('highlighted');
                });
                
            }

            function unhighlightImpurityLine(nodeId) {
                // If the node is not suggested
                const lines = document.querySelectorAll('.impurity-line[data-node-id="' + nodeId + '"]');
                lines.forEach(line => {
                    line.classList.remove('highlighted');
                });
                
                const labels_l = document.querySelectorAll('.impurity-label-left[data-node-id="' + nodeId + '"]');
                labels_l.forEach(label => {
                    label.classList.remove('highlighted');
                });

                const labels_r = document.querySelectorAll('.impurity-label-right[data-node-id="' + nodeId + '"]');
                labels_r.forEach(label => {
                    label.classList.remove('highlighted');
                });

                // If the node is suggested
                const s_lines = document.querySelectorAll('.suggested-line[data-node-id="' + nodeId + '"]');
                s_lines.forEach(line => {
                    line.classList.remove('highlighted');
                });
                
                const s_labels_l = document.querySelectorAll('.suggested-label-left[data-node-id="' + nodeId + '"]');
                s_labels_l.forEach(label => {
                    label.classList.remove('highlighted');
                });

                const s_labels_r = document.querySelectorAll('.suggested-label-right[data-node-id="' + nodeId + '"]');
                s_labels_r.forEach(label => {
                    label.classList.remove('highlighted');
                });
            }

            function showTooltip(event, node, top, left) {
                tooltip = document.getElementById('tooltip')
                wh = window.screen.height
                th = tooltip?.clientHeight

                if(node.isLeaf == 1){
                    tooltip.innerText = "Id: " + node.position + "\nN: " + node.labels + "\nClass distribution: [" + node.distribution +  "]\nGCR: [" + node.gcr + "]\nImpurty: " + node.impurity.toFixed(3) + "\nImpurity decrease: " + node.impurity_decrement.toFixed(3) + "\nPrediction: "+ node.value;
                } else {
                    if(node.lift1 && node.lift2) {
                        tooltip.innerText = "Id: " + node.position + "\nN: " + node.labels +  "\nClass distribution: [" + node.distribution + "]\nLIFT left: [" + node.lift1 + "]\nLIFT right: [" + node.lift2 + "]\nFeature: " + node.feature + "\nThreshold left: [" + node.treshold + "]\nGpi: " + node.gpi.toFixed(3) + "\nPpi: " + node.ppi.toFixed(3)  + "\nImpurty: " + node.impurity.toFixed(3) + "\nImpurity decrease: " + node.impurity_decrement.toFixed(3);
                    } else {
                        tooltip.innerText = "Id: " + node.position + "\nN: " + node.labels +  "\nClass distribution: [" + node.distribution + "]\nFeature: " + node.feature + "\nThreshold left: [" + node.treshold + "]\nGpi: " + node.gpi.toFixed(3) + "\nPpi: " + node.ppi.toFixed(3)  + "\nImpurty: " + node.impurity.toFixed(3) + "\nImpurity decrease: " + node.impurity_decrement.toFixed(3);
                    }
                }

                if((top/100) + th/wh < 0.90){
                    if(left > 50){
                        tooltip.style.left = left + "%"
                        tooltip.style.top = top + "%"
                        tooltip.style.bottom = "auto"
                        tooltip.classList.add("t_r")
                    } else {
                        tooltip.style.left = left + "%"
                        tooltip.style.top = top + "%"
                        tooltip.style.bottom = "auto"
                        tooltip.classList.add("t_l")
                    }
                } else {
                    if(left > 50){
                        tooltip.style.left = left + "%"
                        tooltip.style.bottom = 1 + "%"
                        tooltip.style.top = "auto"
                        tooltip.classList.add("t_r")
                    } else {
                        tooltip.style.left = left + "%"
                        tooltip.style.bottom = 1 + "%"
                        tooltip.style.top = "auto"
                        tooltip.classList.add("t_l")
                    }
                }

                tooltip.style.visibility = 'visible'
                tooltip.style.opacity = 1
            }

            function hideTooltip() {
                tooltip = document.getElementById('tooltip')
                tooltip.classList.remove("t_r")
                tooltip.classList.remove("t_l")
                tooltip.style.visibility = 'hidden'
                tooltip.style.opacity = 0
            }

            d = 80/(plotData.l_c+plotData.r_c);
            h = 65/(plotData.max_imp_decrease);

            iter(treeData, 10+d*plotData.l_c, d, h, 0)
        </script> 
    </body>
    </html> 
    